<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚öîÔ∏è Realm of Legends - RPG Adventure</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/effects.css') }}">
</head>
<body>
    <div class="container">
        <!-- Title Screen -->
        <div id="title-screen" class="screen active">
            <div class="title-card">
                <h1 class="game-title">‚öîÔ∏è REALM OF LEGENDS ‚öîÔ∏è</h1>
                <p class="subtitle">An Epic Text-Based Adventure</p>
                <div class="title-description">
                    <p>The Dark Lord has risen, spreading darkness across the realm.</p>
                    <p>Only a hero can restore peace to the kingdom...</p>
                </div>
                <button onclick="showCharacterCreation()" class="btn btn-primary btn-large">Begin Your Quest</button>
            </div>
        </div>

        <!-- Character Creation Screen -->
        <div id="character-creation" class="screen">
            <div class="creation-card">
                <h2>Create Your Hero</h2>
                
                <div class="form-group">
                    <label for="char-name">Hero Name:</label>
                    <input type="text" id="char-name" placeholder="Enter your name" value="Hero">
                </div>

                <div class="form-group">
                    <label>Choose Your Class:</label>
                    <div class="class-selection">
                        <div class="class-card" onclick="selectClass('Warrior')">
                            <div class="class-icon">‚öîÔ∏è</div>
                            <h3>Warrior</h3>
                            <p class="class-desc">High HP and physical damage</p>
                            <ul class="class-abilities">
                                <li>Power Strike</li>
                                <li>Shield Bash</li>
                                <li>Berserker Rage</li>
                            </ul>
                        </div>

                        <div class="class-card" onclick="selectClass('Mage')">
                            <div class="class-icon">üîÆ</div>
                            <h3>Mage</h3>
                            <p class="class-desc">Powerful magical attacks</p>
                            <ul class="class-abilities">
                                <li>Fireball</li>
                                <li>Ice Shard</li>
                                <li>Lightning Bolt</li>
                            </ul>
                        </div>

                        <div class="class-card" onclick="selectClass('Rogue')">
                            <div class="class-icon">üó°Ô∏è</div>
                            <h3>Rogue</h3>
                            <p class="class-desc">Quick strikes and stealth</p>
                            <ul class="class-abilities">
                                <li>Backstab</li>
                                <li>Poison Dagger</li>
                                <li>Shadow Step</li>
                            </ul>
                        </div>

                        <div class="class-card" onclick="selectClass('Cleric')">
                            <div class="class-icon">‚öïÔ∏è</div>
                            <h3>Cleric</h3>
                            <p class="class-desc">Healing and holy magic</p>
                            <ul class="class-abilities">
                                <li>Heal</li>
                                <li>Holy Smite</li>
                                <li>Divine Shield</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <button onclick="startGame()" class="btn btn-primary btn-large" id="start-btn" disabled>Start Adventure</button>
            </div>
        </div>

        <!-- Main Game Screen -->
        <div id="game-screen" class="screen">
            <!-- Header with character stats -->
            <div class="game-header">
                <div class="player-info">
                    <h2 id="player-name">Hero</h2>
                    <div class="stat-bars">
                        <div class="stat-bar hp-bar">
                            <label>HP:</label>
                            <div class="bar-container">
                                <div class="bar-fill hp-fill" id="hp-bar" style="width: 100%"></div>
                                <span class="bar-text" id="hp-text">100/100</span>
                            </div>
                        </div>
                        <div class="stat-bar mana-bar">
                            <label>Mana:</label>
                            <div class="bar-container">
                                <div class="bar-fill mana-fill" id="mana-bar" style="width: 100%"></div>
                                <span class="bar-text" id="mana-text">50/50</span>
                            </div>
                        </div>
                    </div>
                    <div class="player-stats">
                        <span>‚≠ê Level <span id="player-level">1</span></span>
                        <span>üí∞ <span id="player-gold">50</span> gold</span>
                        <span>‚öîÔ∏è ATK <span id="player-attack">10</span></span>
                        <span>üõ°Ô∏è DEF <span id="player-defense">5</span></span>
                    </div>
                    <div class="exp-bar">
                        <div class="bar-fill exp-fill" id="exp-bar" style="width: 0%"></div>
                        <span class="bar-text" id="exp-text">0/100 XP</span>
                    </div>
                </div>
            </div>

            <!-- Main game area -->
            <div class="game-content">
                <!-- Location panel -->
                <div class="location-panel">
                    <h3 id="location-name">üìç Unknown Location</h3>
                    <div id="location-description" class="location-desc">
                        Starting your adventure...
                    </div>
                    <div id="weather-display"></div>
                    <div class="tutorial-hint" style="background: rgba(255,215,0,0.1); padding: 15px; border-radius: 8px; border: 2px solid #ffd700; margin-top: 15px;">
                        <h4 style="color: #ffd700; margin-bottom: 10px;">üéÆ How to Play:</h4>
                        <p style="margin: 5px 0;">üîç <strong>Explore</strong> - Find enemies to fight!</p>
                        <p style="margin: 5px 0;">‚öîÔ∏è <strong>Combat</strong> - Attack with normal hits or special abilities</p>
                        <p style="margin: 5px 0;">‚¨ÜÔ∏è <strong>Level Up</strong> - Defeat enemies to gain XP and get stronger</p>
                        <p style="margin: 5px 0;">üó∫Ô∏è <strong>Travel</strong> - Visit new locations for harder enemies and better loot</p>
                        <p style="margin: 5px 0;">üìú <strong>Quests</strong> - Complete objectives for big rewards!</p>
                    </div>
                </div>

                <!-- Messages panel -->
                <div id="messages-panel" class="messages-panel">
                    <div id="messages"></div>
                </div>

                <!-- Combat panel (hidden by default) -->
                <div id="combat-panel" class="combat-panel hidden">
                    <!-- VISUAL BATTLE ARENA -->
                    <div id="battle-arena" style="position: relative; width: 100%; height: 400px; background: linear-gradient(to bottom, #1a1a2e 0%, #0a0e27 100%); border-radius: 12px; overflow: hidden; margin-bottom: 20px;">
                        <!-- Background effects -->
                        <div style="position: absolute; width: 100%; height: 100%; background: url('data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><circle cx=%2250%22 cy=%2250%22 r=%221%22 fill=%22%23ffffff%22 opacity=%220.1%22/></svg>'); opacity: 0.3;"></div>
                        
                        <!-- Player Sprite -->
                        <div id="player-sprite" style="position: absolute; left: 15%; bottom: 20%; width: 120px; height: 120px; transition: all 0.3s ease;">
                            <div style="width: 100%; height: 100%; position: relative;">
                                <!-- Player Character Visual -->
                                <div style="position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 80px; height: 100px; background: linear-gradient(to bottom, #4a90e2 0%, #2d5a8e 100%); border-radius: 40px 40px 10px 10px; box-shadow: 0 5px 20px rgba(74, 144, 226, 0.5);"></div>
                                <!-- Head -->
                                <div style="position: absolute; top: 0; left: 50%; transform: translateX(-50%); width: 50px; height: 50px; background: #ffcc99; border-radius: 50%; border: 3px solid #333; box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);"></div>
                                <!-- Sword -->
                                <div style="position: absolute; bottom: 30px; right: -10px; width: 60px; height: 8px; background: linear-gradient(to right, #666 0%, #999 50%, #ddd 100%); transform: rotate(-45deg); border-radius: 2px; box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);"></div>
                                <!-- HP Bar above player -->
                                <div style="position: absolute; top: -30px; left: 50%; transform: translateX(-50%); width: 100px; height: 8px; background: #333; border-radius: 4px; border: 2px solid #fff;">
                                    <div id="player-combat-hp" style="width: 100%; height: 100%; background: linear-gradient(to right, #0f0 0%, #0a0 100%); border-radius: 2px; transition: width 0.5s ease;"></div>
                                </div>
                                <!-- Player name -->
                                <div style="position: absolute; top: -50px; left: 50%; transform: translateX(-50%); color: #fff; font-weight: bold; font-size: 14px; text-shadow: 0 0 5px #000; white-space: nowrap;"><span id="player-sprite-name">Hero</span></div>
                            </div>
                        </div>
                        
                        <!-- Enemy Sprite -->
                        <div id="enemy-sprite" style="position: absolute; right: 15%; bottom: 20%; width: 120px; height: 120px; transition: all 0.3s ease;">
                            <div style="width: 100%; height: 100%; position: relative;">
                                <!-- Enemy Character Visual -->
                                <div id="enemy-visual" style="position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 80px; height: 100px; background: linear-gradient(to bottom, #8b0000 0%, #550000 100%); border-radius: 40px 40px 10px 10px; box-shadow: 0 5px 20px rgba(139, 0, 0, 0.5);"></div>
                                <!-- Head -->
                                <div style="position: absolute; top: 0; left: 50%; transform: translateX(-50%); width: 50px; height: 50px; background: #996633; border-radius: 50%; border: 3px solid #333; box-shadow: 0 0 15px rgba(255, 0, 0, 0.3);"></div>
                                <!-- Weapon -->
                                <div style="position: absolute; bottom: 30px; left: -10px; width: 60px; height: 8px; background: linear-gradient(to left, #666 0%, #999 50%, #ddd 100%); transform: rotate(45deg); border-radius: 2px; box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);"></div>
                                <!-- HP Bar above enemy -->
                                <div style="position: absolute; top: -30px; left: 50%; transform: translateX(-50%); width: 100px; height: 8px; background: #333; border-radius: 4px; border: 2px solid #fff;">
                                    <div id="enemy-combat-hp" style="width: 100%; height: 100%; background: linear-gradient(to right, #f00 0%, #a00 100%); border-radius: 2px; transition: width 0.5s ease;"></div>
                                </div>
                                <!-- Enemy name -->
                                <div style="position: absolute; top: -50px; left: 50%; transform: translateX(-50%); color: #fff; font-weight: bold; font-size: 14px; text-shadow: 0 0 5px #000; white-space: nowrap;"><span id="enemy-sprite-name">Enemy</span></div>
                            </div>
                        </div>
                        
                        <!-- VS Text -->
                        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 48px; font-weight: bold; color: #ffd700; text-shadow: 0 0 20px #ffd700, 0 0 40px #ffd700; opacity: 0.3; animation: pulse 2s ease-in-out infinite;">VS</div>
                    </div>
                    
                    <h3>‚öîÔ∏è COMBAT</h3>
                    <div class="enemy-info">
                        <h4 id="enemy-name">Enemy</h4>
                        <div class="enemy-hp-bar">
                            <div class="bar-fill hp-fill" id="enemy-hp-bar" style="width: 100%"></div>
                            <span class="bar-text" id="enemy-hp-text">100/100</span>
                        </div>
                    </div>
                    <div class="combat-actions">
                        <button onclick="combatAction('attack')" class="btn btn-combat">‚öîÔ∏è Attack</button>
                        <button onclick="showAbilities()" class="btn btn-combat">‚ú® Abilities</button>
                        <button onclick="showCombatInventory()" class="btn btn-combat">üéí Items</button>
                        <button onclick="combatAction('defend')" class="btn btn-combat">üõ°Ô∏è Defend</button>
                        <button onclick="combatAction('run')" class="btn btn-combat-warn">üèÉ Run</button>
                    </div>
                    <div id="ability-panel" class="ability-panel hidden"></div>
                </div>

                <!-- Action buttons -->
                <div id="action-buttons" class="action-buttons">
                    <button onclick="explore()" class="btn">üîç Explore</button>
                    <button onclick="showTravel()" class="btn">üö∂ Travel</button>
                    <button onclick="showInventory()" class="btn">üéí Inventory</button>
                    <button onclick="showQuests()" class="btn">üìú Quests</button>
                    <button onclick="showShop()" class="btn" id="shop-btn" style="display:none">üè™ Shop</button>
                </div>
            </div>
        </div>

        <!-- Modal overlays -->
        <div id="modal-overlay" class="modal-overlay hidden" onclick="closeModal()">
            <div class="modal" onclick="event.stopPropagation()">
                <div class="modal-header">
                    <h3 id="modal-title">Modal</h3>
                    <button onclick="closeModal()" class="close-btn">‚úï</button>
                </div>
                <div id="modal-content" class="modal-content"></div>
            </div>
        </div>
    </div>

        <script src="{{ url_for('static', filename='js/arena-init.js') }}"></script>
        <script src="{{ url_for('static', filename='js/effects.js') }}"></script>
        <script src="{{ url_for('static', filename='js/game.js') }}"></script>
</body>
</html>



